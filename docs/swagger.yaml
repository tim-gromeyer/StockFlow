basePath: /
definitions:
  handlers.BalanceResponse:
    properties:
      balance:
        type: number
    type: object
  handlers.BuyRequest:
    properties:
      quantity:
        type: integer
      stock_symbol:
        type: string
      user_id:
        type: integer
    required:
    - quantity
    - stock_symbol
    - user_id
    type: object
  handlers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  handlers.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  handlers.LoginResponse:
    properties:
      token:
        type: string
    type: object
  handlers.PortfolioResponse:
    properties:
      portfolio:
        items:
          $ref: '#/definitions/models.Portfolio'
        type: array
      total_value:
        type: number
    type: object
  handlers.RegisterRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  handlers.RegisterResponse:
    properties:
      cash_balance:
        type: number
      id:
        type: integer
      username:
        type: string
    type: object
  handlers.SellRequest:
    properties:
      quantity:
        type: integer
      stock_symbol:
        type: string
      user_id:
        type: integer
    required:
    - quantity
    - stock_symbol
    - user_id
    type: object
  handlers.SuccessResponse:
    properties:
      message:
        type: string
    type: object
  models.Portfolio:
    properties:
      quantity:
        type: integer
      stockSymbol:
        type: string
      userID:
        type: integer
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is a sample server for a stock market simulator.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: StockFlow API
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Log in a user with a username and password
      parameters:
      - description: User login info
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Failed to generate token
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Log in a user
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Register a new user with a username and password
      parameters:
      - description: User registration info
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/handlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.RegisterResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Failed to create user
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Register a new user
      tags:
      - auth
  /balance/{user_id}:
    get:
      description: Get a user's cash balance
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.BalanceResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get user balance
      tags:
      - portfolio
  /buy:
    post:
      consumes:
      - application/json
      description: Buy a specified quantity of a stock for a user
      parameters:
      - description: Buy Request
        in: body
        name: buy_request
        required: true
        schema:
          $ref: '#/definitions/handlers.BuyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully bought stock
          schema:
            $ref: '#/definitions/handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Buy a stock
      tags:
      - transactions
  /portfolio/{user_id}:
    get:
      description: Get a user's portfolio and total value
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.PortfolioResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get user portfolio
      tags:
      - portfolio
  /sell:
    post:
      consumes:
      - application/json
      description: Sell a specified quantity of a stock for a user
      parameters:
      - description: Sell Request
        in: body
        name: sell_request
        required: true
        schema:
          $ref: '#/definitions/handlers.SellRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully sold stock
          schema:
            $ref: '#/definitions/handlers.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Sell a stock
      tags:
      - transactions
swagger: "2.0"
